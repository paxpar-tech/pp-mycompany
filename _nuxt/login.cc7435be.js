import h from"./ModalFull.d70a8f5a.js";import{d as f,cj as g,V as v,N as b,r as k,s as w,O as y,o as S,am as q,b as C,J as R,w as T,e as t,g as x,I as e,P as L}from"./entry.5ff78654.js";import{u as P}from"./url.6edfad5e.js";const B=t("h3",{class:"font-bold text-lg"},"Login",-1),I=t("p",{class:"py-4"}," Indiquez votre adresse de courriel pour recevoir le lien d'authentification ",-1),N={class:"modal-action"},V="/confirm",$=f({__name:"login",setup(z){const n=g(),c=v(),o=b(),i=k(["github"]),s=w(),a=P(),u=a.toString().substring(0,a.toString().lastIndexOf("/")),l=s.query.redirect?s.query.redirect:V,d=`${u}${l}`;s.hash.startsWith("#access_token=");const r=d;return y(o,()=>{if(o.value)return L("/")},{immediate:!0}),S(async()=>{console.log("mounted login emailRedirectTo=",r)}),(p,A)=>{const m=q("Auth"),_=h;return C(),R(_,null,{default:T(()=>[B,I,t("div",N,[x(m,{class:"w-full",supabaseClient:e(c),appearance:{theme:p.ThemeSupa},view:"magic_link",providers:e(i),redirectTo:e(r),socialLayout:"horizontal",queryParams:{},dark:e(n),"show-links":!1},null,8,["supabaseClient","appearance","providers","redirectTo","queryParams","dark"])])]),_:1})}}});export{$ as default};
