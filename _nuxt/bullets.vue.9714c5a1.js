import{_ as m}from"./debug-panel.vue.0664a9ea.js";import{u as v}from"./useToast.c3edf835.js";import{d as g,r as f,P as w,o as b,cl as d,bF as k,b as V,c as S,g as T,w as C,e as r,W as $}from"./entry.731e469e.js";const x={class:"stack w-full"},E=r("h1",null,"SVG load done test",-1),I=r("h1",null,"loaded SVG",-1),M=["innerHTML"],G=g({__name:"bullets",props:{href:{}},setup(_,{expose:h}){const s=_,y=v(),p=f(),i=f();w(s,async(e,t)=>{await u()}),b(async()=>{await u()});const u=async()=>{if(s.href)try{var e=await $fetch(s.href,{parseResponse:t=>t});e=e.replace('width="3840"','width="100%"'),e=e.replace('height="2160"','height="100%"'),p.value=e,setTimeout(c)}catch{y.error(`Erreur lors de la récupération de l'animation ${s.href}`)}},c=()=>{const e=i.value.querySelector("svg");if(console.log("anim bullet task",{container:i,svg:e}),e){const a=[];for(var t=1;t<20;t++){const o=e.querySelector(`svg [ref='item${t}']`);o&&a.push(o)}a.forEach((o,n)=>{const{variant:l}=d(o,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:500+n*500,onComplete:()=>{l.value="levitate"}}},levitate:{y:15,transition:{duration:2e3,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}}})})}if(e){const a=[];for(var t=1;t<20;t++){const n=e.querySelector(`svg [ref='target${t}']`);n&&a.push(n)}a.forEach((o,n)=>{const{variant:l}=d(o,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:500+n*500,onComplete:()=>{l.value="levitate"}}},levitate:{y:15,transition:{duration:2e3,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}}})})}};return h({task:c}),(e,t)=>{const a=m,o=k("motion-fade");return V(),S("div",x,[T(a,null,{default:C(()=>[E,r("button",{class:"btn",onClick:c},"XXXX"),I]),_:1}),$(r("div",{ref_key:"container",ref:i,class:"object-contain w-full",innerHTML:p.value},null,8,M),[[o]])])}}});export{G as _};
