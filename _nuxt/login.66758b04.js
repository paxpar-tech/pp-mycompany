import m from"./ModalFull.a5ec848d.js";import{d as _,cj as f,V as h,N as g,r as b,s as k,O as v,o as w,b as y,J as S,w as q,e as s,g as x,I as e,P as R}from"./entry.ae41c1f5.js";import{u as T}from"./url.6edfad5e.js";import{Auth as C}from"@nuxtbase/auth-ui-vue";import{ThemeSupa as L}from"@supabase/auth-ui-shared";const P=s("h3",{class:"font-bold text-lg"},"Login",-1),B=s("p",{class:"py-4"}," Indiquez votre adresse de courriel pour recevoir le lien d'authentification ",-1),I={class:"modal-action"},N="/confirm",J=_({__name:"login",setup(V){const n=f(),i=h(),o=g(),c=b(["github"]),t=k(),a=T(),u=a.toString().substring(0,a.toString().lastIndexOf("/")),l=t.query.redirect?t.query.redirect:N,d=`${u}${l}`;t.hash.startsWith("#access_token=");const r=d;return v(o,()=>{if(o.value)return R("/")},{immediate:!0}),w(async()=>{console.log("mounted login emailRedirectTo=",r)}),(z,D)=>{const p=m;return y(),S(p,null,{default:q(()=>[P,B,s("div",I,[x(e(C),{class:"w-full",supabaseClient:e(i),appearance:{theme:e(L)},view:"magic_link",providers:e(c),redirectTo:e(r),socialLayout:"horizontal",queryParams:{},dark:e(n),"show-links":!1},null,8,["supabaseClient","appearance","providers","redirectTo","queryParams","dark"])])]),_:1})}}});export{J as default};
