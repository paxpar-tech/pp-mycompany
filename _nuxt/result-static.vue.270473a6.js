import{_ as p}from"./result.vue.abb45cd6.js";import{u as i}from"./useToast.fbf34f37.js";import{d as _,r as d,o as h,b as m,J as g,I as v,q as y}from"./entry.e5ec0771.js";import{u as $}from"./fetch.dc39b732.js";import{l as k}from"./js-yaml.bea960a4.js";const b=_({__name:"result-static",props:{path:{},result:{},show_root:{type:Boolean,default:!1},hide_modes_selector:{type:Boolean,default:!1},mode:{default:"basic"},auto_propagate_status:{type:Boolean,default:!0}},setup(n){const a=n,c=i(),r=d();function u(t,e){const o=(t==null?void 0:t.children)||[];for(let s of o)u(s,t.status)}async function f(t){let e,o;if(t!==void 0)try{e=await y().where({_path:t}).findOne(),o=`checkresult content fetched from  ${t}`}catch{const{data:s,error:l}=await $(t,"$S9CGFIVhGw");if(l.value){console.error(`${t} not found !`),c.error(`${t} not found !`);return}typeof s.value=="string"?(e=k(s.value),o=`checkresult YAML fetched from  ${t}`):(e=s.value,o=`checkresult JSON fetched from  ${t}`)}else a.result&&(e=a.result);e&&(r.value=e),a.auto_propagate_status&&r.value&&u(r.value),console.info(o)}return h(async()=>{await f(a.path)}),(t,e)=>{const o=p;return m(),g(o,{node:v(r),show_root:t.show_root,hide_modes_selector:t.hide_modes_selector,mode:t.mode,auto_propagate_status:t.auto_propagate_status},null,8,["node","show_root","hide_modes_selector","mode","auto_propagate_status"])}}});export{b as _};
