import{_ as y}from"./debug-panel.vue.0ff614b5.js";import{d as v,r as f,P as g,o as w,cm as d,bG as b,b as k,c as V,g as S,w as T,e as r,W as C}from"./entry.3409a428.js";import{u as $}from"./useToast.cf9c12dc.js";const x={class:"stack w-full"},E=r("h1",null,"SVG load done test",-1),G=r("h1",null,"loaded SVG",-1),I=["innerHTML"],B=v({__name:"bullets",props:{href:{}},setup(_,{expose:h}){const s=_,m=$(),p=f(),i=f();g(s,async(e,t)=>{await u()}),w(async()=>{await u()});const u=async()=>{if(s.href)try{var e=await $fetch(s.href,{parseResponse:t=>t});e=e.replace('width="3840"','width="100%"'),e=e.replace('height="2160"','height="100%"'),p.value=e,setTimeout(c)}catch{m.error(`Erreur lors de la récupération de l'animation ${s.href}`)}},c=()=>{const e=i.value.querySelector("svg");if(console.log("anim bullet task",{container:i,svg:e}),e){const a=[];for(var t=1;t<20;t++){const o=e.querySelector(`svg [ref='item${t}']`);o&&a.push(o)}a.forEach((o,n)=>{const{variant:l}=d(o,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:500+n*500,onComplete:()=>{l.value="levitate"}}},levitate:{y:15,transition:{duration:2e3,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}}})})}if(e){const a=[];for(var t=1;t<20;t++){const n=e.querySelector(`svg [ref='target${t}']`);n&&a.push(n)}a.forEach((o,n)=>{const{variant:l}=d(o,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:500+n*500,onComplete:()=>{l.value="levitate"}}},levitate:{y:15,transition:{duration:2e3,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}}})})}};return h({task:c}),(e,t)=>{const a=y,o=b("motion-fade");return k(),V("div",x,[S(a,null,{default:T(()=>[E,r("button",{class:"btn",onClick:c},"XXXX"),G]),_:1}),C(r("div",{ref_key:"container",ref:i,class:"object-contain w-full",innerHTML:p.value},null,8,I),[[o]])])}}});export{B as _};
