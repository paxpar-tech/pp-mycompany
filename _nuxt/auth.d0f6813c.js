import{_ as $}from"./CopyButton.vue.99483ccd.js";import{L as f,x as P,h as x,d as V,O as I,N as R,r as d,b as A,J as O,w as S,e as t,D as g,W as r,X as u,I as a,Y as c,t as i,g as D,V as j}from"./entry.731e469e.js";import{u as B}from"./usePaxparAPI.d7615cb0.js";import"./index.c67c5681.js";import"./fetch.6e0eb543.js";import"./url.6edfad5e.js";import"./useToast.c3edf835.js";const N=()=>({authenticated:!0,conf:f(()=>P().paxpar),email:x("login_email"),remember_me:x("login_remember"),logins:0}),W=t("h1",{class:"card-title"},"DEBUG Auth",-1),E={class:"card m-6 bg-blue-100 shadow-xl"},K={class:"card-body"},G=t("h2",{class:"card-title"},"Auth Settings",-1),J={class:"card-actions justify-end"},M={class:"card m-6 bg-blue-100 shadow-xl"},X={class:"card-body"},Y=t("h2",{class:"card-title"},"Login with magic email",-1),q={class:"card-actions justify-end"},z={class:"card m-6 bg-blue-100 shadow-xl"},F={class:"card-body"},H=t("h2",{class:"card-title"},"Login with email/password",-1),Q={class:"card-actions justify-end"},Z={class:"card m-6 bg-blue-100 shadow-xl"},tt={class:"card-body"},st=t("h2",{class:"card-title"},"Login with auth providers",-1),et={class:"card-actions justify-end"},at={class:"card m-6 bg-blue-100 shadow-xl"},ot={class:"card-body"},nt=t("h2",{class:"card-title"},"API data :",-1),lt=t("h2",{class:"card-title"},"API error :",-1),it=t("h2",{class:"card-title"},"user = useSupabaseUser() :",-1),dt=t("div",{class:"divider"},null,-1),rt=t("h2",{class:"card-title"},"supabase backend",-1),gt=V({__name:"auth",setup(ut){const n=I(),k=R(),{backend:C}=B(),p=d(C),b=d("http://localhost:3000/console"),{email:o}=N(),m=d(),h=d(),_=d(),y=f(()=>`${p.value}/api/auth/redirect?to=${encodeURIComponent(b.value)}`);async function L(){const{data:l,error:s}=await n.auth.signInWithPassword({email:o.value,password:m.value});_.value=s,h.value=l}async function U(){const{data:l,error:s}=await n.auth.signInWithOtp({email:o.value,options:{emailRedirectTo:y.value}});_.value=s,h.value=l}const v=async l=>{const{data:s,error:w}=await n.auth.signInWithOAuth({provider:l});_.value=w,h.value=s};return(l,s)=>{const w=$,T=j;return A(),O(T,null,{default:S(()=>[t("div",null,[W,t("div",E,[t("div",K,[G,g(" backend : "),r(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c(p)?p.value=e:null),type:"text",placeholder:"emailRedirectTo",class:"input w-full"},null,512),[[u,a(p)]]),g(" redirectTo : "),r(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>c(b)?b.value=e:null),type:"text",placeholder:"emailRedirectTo",class:"input w-full"},null,512),[[u,a(b)]]),g(" emailRedirectTo : "+i(a(y))+" ",1),t("div",J,[t("button",{onClick:s[2]||(s[2]=e=>a(n).auth.signOut()),class:"btn btn-primary"}," Logout ")])])]),t("div",M,[t("div",X,[Y,r(t("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>c(o)?o.value=e:null),type:"text",placeholder:"email",class:"input w-full max-w-xs"},null,512),[[u,a(o)]]),t("div",q,[t("button",{onClick:s[4]||(s[4]=e=>U()),class:"btn btn-primary"},"Login")])])]),t("div",z,[t("div",F,[H,r(t("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>c(o)?o.value=e:null),type:"text",placeholder:"email",class:"input w-full max-w-xs"},null,512),[[u,a(o)]]),r(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>c(m)?m.value=e:null),type:"text",placeholder:"password",class:"input w-full max-w-xs"},null,512),[[u,a(m)]]),t("div",Q,[t("button",{onClick:s[7]||(s[7]=e=>L()),class:"btn btn-primary"},"Login")])])]),t("div",Z,[t("div",tt,[st,t("div",et,[t("button",{onClick:s[8]||(s[8]=e=>v("gitlab")),class:"btn btn-primary"}," Login with gitlab "),t("button",{onClick:s[9]||(s[9]=e=>v("github")),class:"btn btn-primary"}," Login with github "),t("button",{onClick:s[10]||(s[10]=e=>v("bitbucket")),class:"btn btn-primary"}," Login with bitbucket "),t("button",{onClick:s[11]||(s[11]=e=>v("google")),class:"btn btn-primary"}," Login with google ")])])]),t("div",at,[t("div",ot,[nt,t("pre",null,i(a(h)),1),lt,t("pre",null,i(a(_)),1),it,t("pre",null,i(a(k)),1),dt,rt,t("p",null,"URL = "+i(a(n).supabaseUrl),1),t("p",null,[g(" key = "+i(a(n).supabaseKey)+" ",1),D(w,{content:a(n).supabaseKey},null,8,["content"])])])])])]),_:1})}}});export{gt as default};
